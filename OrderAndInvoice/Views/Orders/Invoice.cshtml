
@{
    ViewData["Title"] = "Invoice";
}

<h2>Invoice</h2>
<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

@using OrderAndInvoice.Models
@using order.Models

@model OrderedProducts




<div class="container">
    <div class="row">
        <div class="col-x">
            <div class="invoice-title">
                <h2>Order No.</h2><h3 class="pull-left">@ViewBag.OrderInvoice[0]</h3><br />
            </div>
            
                <hr>
                <div class="row">
                    <div class="col-xs-6">
                        <address>
                            <strong>Billed To:</strong><br>

                            @ViewBag.customer.CustomerFirstName
                            @ViewBag.customer.CustomerLastName
                            @*@ViewBag.customer.CustomerMailId*@
                            @ViewBag.customer.CustomerLocation
                            @ViewBag.customer.CustomerAddress
                            @ViewBag.customer.CustomerGender

                        </address>
                    </div>
                    <div class="col-xs-6 text-right">
                        <address>
                            <strong>Shipped To:</strong><br>
                            @ViewBag.customer.CustomerFirstName
                            @ViewBag.customer.CustomerLastName
                            @*@ViewBag.customer.CustomerMailID*@
                            @ViewBag.customer.CustomerLocation
                            @ViewBag.customer.CustomerAddress
                            @ViewBag.customer.CustomerGender
                        </address>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-6">
                        <address>
                            <strong>Payment Method:</strong><br>
                            Cash On Delivery<br>

                        </address>
                    </div>
                    <div class="col-xs-6 text-right">
                        <address>
                            <strong>Order Date:</strong><br>
                            @ViewBag.orderdate<br><br>
                        </address>
                    </div>
                </div>
            </div>
            </div>
        </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title"><strong>Order summary</strong></h3>
            </div>
           
          
 
        <div class="panel-body">
            <div class="table-responsive">
                @{double total = 0;}
                <table class="table table-condensed">
                    <thead>
                        <tr>

                            <td class="text-center"><strong>Product Name</strong></td>
                            <td class="text-center"><strong>Product Price</strong></td>
                            <td class="text-center"><strong>Purchased Quantity</strong></td>
                            <td class="text-center"><strong>Subtotal</strong></td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var product in Model.Products)
                        {

                        <tr>

                            <td class="text-center"> @product.ProdName</td>
                            <td class="text-center">@product.ProdPrice</td>
                            <td class="text-center"> @product.PurchasedQty</td>
                            <td class="text-center">
                                @{

        var productTotal = product.PurchasedQty * @product.ProdPrice;
        total += (double)productTotal;
                                }
                                @productTotal
                            </td>
                        </tr>

                        @*<tr>
                            <td class="thick-line"></td>
                            <td class="thick-line"></td>
                            <td class="thick-line text-center"><strong>Subtotal</strong></td>
                            <td class="thick-line text-right">
                                @{

                                    var productTotal = product.PurchasedQty * @product.ProdPrice;
                                    total += (double)productTotal;
                                }
                                @productTotal
                            </td>
                        </tr>*@
                                    }
                        <tr>
                            <td class="no-line"></td>
                            <td class="no-line"></td>
                            <td class="no-line text-center"><strong>Total</strong></td>
                            <td class="no-line text-right">@total</td>
                        </tr>
                                    
                    </tbody>
                </table>
            </div>
        </div>

        </div>
    </div>
</div>

 